// prisma/models/subscriber.prisma
/// @model Subscriber
/// @description Armazena informações de usuários que se inscreveram na newsletter ou para receber notificações.

model Subscriber {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  phone     String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  isVerified Boolean  @default(false)
  
  // Preferências de notificação em formato JSON. Ex: { "notifyOnNewAuction": true, "categories": ["veiculos"] }
  preferences Json?
  
  tenant    Tenant   @relation(fields: [tenantId], references: [id], onDelete: Cascade)
  tenantId  String
  
  @@index([tenantId])
}
