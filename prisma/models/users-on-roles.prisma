// prisma/models/users-on-roles.prisma
model UsersOnRoles {
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId     Int
  role       Role     @relation(fields: [roleId], references: [id], onDelete: Cascade)
  roleId     Int
  assignedAt DateTime @default(now())
  assignedBy String // Can be a user ID or 'system-signup'

  @@id([userId, roleId])
}

model Role {
  id             Int    @id @default(autoincrement())
  name           String @unique
  nameNormalized String @unique
  description    String?
  permissions    String[]
  users          UsersOnRoles[]
}
