// prisma/models/DirectSaleOffer.prisma
import { LotCategory, Seller, User } from './';
import { DirectSaleOfferStatus, DirectSaleOfferType } from './enums.prisma';

model DirectSaleOffer {
  id              String                  @id @default(cuid())
  publicId        String                  @unique @default(cuid())
  title           String
  description     String?                 @db.Text
  offerType       DirectSaleOfferType
  status          DirectSaleOfferStatus   @default(PENDING_APPROVAL)
  price           Decimal?                @db.Decimal(10, 2)
  minimumOfferPrice Decimal?              @db.Decimal(10, 2)
  
  categoryId      String
  category        LotCategory             @relation(fields: [categoryId], references: [id])
  
  sellerId        String
  seller          Seller                  @relation(fields: [sellerId], references: [id])

  locationCity    String?
  locationState   String?

  imageUrl        String?
  imageMediaId    String?
  dataAiHint      String?
  galleryImageUrls Json?
  mediaItemIds    String[]

  expiresAt       DateTime?

  createdAt       DateTime                @default(now())
  updatedAt       DateTime                @updatedAt
  tenantId        String
  tenant          Tenant                  @relation(fields: [tenantId], references: [id])

  @@index([tenantId])
}
