model MediaItem {
  id                BigInt      @id @default(autoincrement())
  fileName          String
  mimeType          String
  sizeBytes         Int
  urlOriginal       String
  urlThumbnail      String?
  storagePath       String?
  altText           String?
  title             String?
  caption           String?
  description       String?
  dataAiHint        String?
  uploadedBy        User?       @relation(fields: [uploadedByUserId], references: [id])
  uploadedByUserId  String?
  createdAt         DateTime    @default(now())
  updatedAt         DateTime    @updatedAt
  judicialProcessId BigInt?
  assets            AssetMedia[]

  @@index([uploadedByUserId])
  @@index([judicialProcessId])
}

model AssetMedia {
  asset       Asset     @relation(fields: [assetId], references: [id])
  assetId     BigInt
  mediaItem   MediaItem @relation(fields: [mediaItemId], references: [id])
  mediaItemId BigInt
  displayOrder Int       @default(0)

  @@id([assetId, mediaItemId])
}
