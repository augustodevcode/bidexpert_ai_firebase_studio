model MediaItem {
  id        BigInt   @id @default(autoincrement())
  fileName  String
  mimeType  String
  sizeBytes BigInt
  
  title       String?
  altText     String?
  caption     String?
  description String? @db.Text
  
  storagePath String
  urlOriginal String
  urlThumbnail String?

  uploadedAt        DateTime @default(now())
  uploadedByUserId  BigInt
  uploadedBy        User     @relation(fields: [uploadedByUserId], references: [id])

  judicialProcessId BigInt?
  judicialProcess   JudicialProcess? @relation(fields: [judicialProcessId], references: [id])
  
  assets AssetMedia[]
}

model AssetMedia {
  assetId BigInt
  mediaItemId BigInt
  displayOrder Int @default(0)
  isPrimary Boolean @default(false)
  
  asset Asset @relation(fields: [assetId], references: [id])
  mediaItem MediaItem @relation(fields: [mediaItemId], references: [id])

  @@id([assetId, mediaItemId])
}
