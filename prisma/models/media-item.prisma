// prisma/models/media-item.prisma
model MediaItem {
  id            String    @id @default(cuid())
  fileName      String
  mimeType      String
  sizeBytes     Int
  storagePath   String
  urlOriginal   String    @map("url_original")
  urlThumbnail  String?   @map("url_thumbnail")
  title         String?
  altText       String?
  caption       String?
  description   String?
  dataAiHint    String?
  
  uploadedAt    DateTime  @default(now())
  uploadedByUserId String?
  uploadedByUser  User?     @relation(fields: [uploadedByUserId], references: [id], onDelete: SetNull)

  // Relações
  // Um item de mídia pode ser a imagem principal de vários ativos
  imageForAssets Asset[] @relation("AssetImage")

  // Um item de mídia pode estar em várias galerias de ativos
  galleryForAssets AssetMedia[] @relation("AssetGalleryItems")

  judicialProcessId String?
  
  @@map("media_items")
}
