
model MediaItem {
  id              BigInt   @id @default(autoincrement())
  fileName        String
  urlOriginal     String   @db.VarChar(1024)
  urlThumbnail    String?  @db.VarChar(1024)
  storagePath     String   @db.VarChar(1024)
  mimeType        String
  sizeBytes       Int
  title           String?
  altText         String?
  caption         String?
  description     String?
  uploadedBy      User     @relation(fields: [uploadedByUserId], references: [id])
  uploadedByUserId BigInt
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  dataAiHint      String?
  
  // Relacionamento com Bem (Asset)
  BemMedia AssetMedia[]
  
  judicialProcess   JudicialProcess? @relation(fields: [judicialProcessId], references: [id])
  judicialProcessId BigInt?
}

model AssetMedia {
  id          BigInt    @id @default(autoincrement())
  asset       Asset     @relation(fields: [assetId], references: [id])
  assetId     BigInt
  mediaItem   MediaItem @relation(fields: [mediaItemId], references: [id])
  mediaItemId BigInt
  isPrimary   Boolean   @default(false)
  order       Int       @default(0)

  @@unique([assetId, mediaItemId])
}
