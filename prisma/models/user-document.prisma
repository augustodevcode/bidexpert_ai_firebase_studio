// prisma/models/user-document.prisma
import { User, DocumentType, UserDocumentStatus } from "./";

model UserDocument {
  id             String   @id @default(cuid())
  userId         String
  documentTypeId BigInt
  fileUrl        String
  fileName       String
  status         UserDocumentStatus @default(PENDING_ANALYSIS)
  rejectionReason String?
  
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
  
  user           User          @relation(fields: [userId], references: [id])
  documentType   DocumentType  @relation(fields: [documentTypeId], references: [id])

  @@unique([userId, documentTypeId])
}
