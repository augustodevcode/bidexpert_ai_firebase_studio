// prisma/models/user-win.prisma
import { User, Lot, PaymentStatus, InstallmentPayment } from "./";

model UserWin {
  id               String  @id @default(cuid())
  userId           String
  lotId            BigInt  @unique
  winningBidAmount Decimal @db.Decimal(12, 2)
  winDate          DateTime
  paymentStatus    PaymentStatus @default(PENDENTE)
  
  user             User    @relation(fields: [userId], references: [id])
  lot              Lot     @relation(fields: [lotId], references: [id])
  
  installments     InstallmentPayment[]

  @@index([userId])
}
