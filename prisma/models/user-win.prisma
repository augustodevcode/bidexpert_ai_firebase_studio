// prisma/models/user-win.prisma
model UserWin {
  id                Int       @id @default(autoincrement())
  userId            Int
  lotId             Int       @unique
  winningBidAmount  Decimal   @db.Decimal(12, 2)
  winDate           DateTime  @default(now())
  paymentStatus     String    @default("PENDENTE")
  retrievalStatus   String    @default("AGUARDANDO_PAGAMENTO")
  lot               Lot       @relation(fields: [lotId], references: [id])
  user              User      @relation(fields: [userId], references: [id])
  installments      InstallmentPayment[]

  @@index([userId, lotId])
}
