// prisma/models/asset.prisma
/**
* @fileoverview Asset (Bem) model. Represents an individual item
* that can be sold, either in a lot or directly.
*/
model Asset {
  id                String  @id @default(cuid())
  publicId          String  @unique @default(uuid())
  title             String
  description       String? @db.Text
  slug              String? @unique
  status            AssetStatus @default(DISPONIVEL)
  evaluationValue   Decimal?  @db.Decimal(12, 2)
  imageUrl          String? @db.Text
  imageMediaId      String?
  galleryImageUrls  Json?
  mediaItemIds      String[]
  dataAiHint        String?

  // Localização Estruturada
  street              String?
  number              String?
  complement          String?
  neighborhood        String?
  cityId              String?
  stateId             String?
  zipCode             String?
  latitude            Decimal?
  longitude           Decimal?

  // Relacionamentos
  tenantId          String
  tenant            Tenant @relation(fields: [tenantId], references: [id])
  categoryId        String?
  category          LotCategory?     @relation(fields: [categoryId], references: [id])
  subcategoryId     String?
  subcategory       Subcategory?     @relation(fields: [subcategoryId], references: [id])
  judicialProcessId String?
  judicialProcess   JudicialProcess? @relation(fields: [judicialProcessId], references: [id])
  sellerId          String?
  seller            Seller?          @relation(fields: [sellerId], references: [id])
  lots              AssetsOnLots[]

  city              City?   @relation(fields: [cityId], references: [id])
  state             State?  @relation(fields: [stateId], references: [id])


  // Campos específicos por categoria (Veículos)
  plate             String?
  make              String?
  model             String?
  version           String?
  year              Int?
  modelYear         Int?
  mileage           Int?
  color             String?
  fuelType          String?
  transmissionType  String?
  bodyType          String?
  vin               String? @unique
  renavam           String? @unique
  enginePower       String?
  numberOfDoors     Int?
  vehicleOptions    String? @db.Text
  detranStatus      String?
  debts             String? @db.Text
  runningCondition  String?
  bodyCondition     String?
  tiresCondition    String?
  hasKey            Boolean?

  // Campos específicos (Imóveis)
  propertyRegistrationNumber String?
  iptuNumber        String?
  isOccupied        Boolean?
  totalArea         Decimal?
  builtArea         Decimal?
  bedrooms          Int?
  suites            Int?
  bathrooms         Int?
  parkingSpaces     Int?
  constructionType  String?
  finishes          String? @db.Text
  infrastructure    String? @db.Text
  condoDetails      String? @db.Text
  improvements      String? @db.Text
  topography        String?
  liensAndEncumbrances String? @db.Text
  propertyDebts     String? @db.Text
  unregisteredRecords String? @db.Text
  hasHabiteSe       Boolean?
  zoningRestrictions String?
  amenities         Json?

  // Campos específicos (Eletrônicos)
  brand             String?
  serialNumber      String?
  itemCondition     String?
  specifications    String? @db.Text
  includedAccessories String? @db.Text
  batteryCondition  String?
  hasInvoice        Boolean?
  hasWarranty       Boolean?
  repairHistory     String? @db.Text
  
  // Campos específicos (Eletrodomésticos)
  applianceCapacity String?
  voltage           String?
  applianceType     String?
  additionalFunctions String?

  // Campos específicos (Máquinas e Equipamentos)
  hoursUsed         Int?
  engineType        String?
  capacityOrPower   String?
  maintenanceHistory String? @db.Text
  installationLocation String?
  compliesWithNR    String?
  operatingLicenses String?

  // Campos específicos (Semoventes)
  breed             String?
  age               String?
  sex               String?
  weight            String?
  individualId      String?
  purpose           String?
  sanitaryCondition String?
  lineage           String?
  isPregnant        Boolean?
  specialSkills     String?
  gtaDocument       String?
  breedRegistryDocument String?

  // Campos específicos (Móveis)
  furnitureType     String?
  material          String?
  style             String?
  dimensions        String?
  pieceCount        Int?

  // Campos específicos (Joias)
  jewelryType       String?
  metal             String?
  gemstones         String? @db.Text
  totalWeight       String?
  jewelrySize       String?
  authenticityCertificate String?

  // Campos específicos (Obras de Arte e Antiguidades)
  workType          String?
  artist            String?
  period            String?
  technique         String?
  provenance        String? @db.Text

  // Campos específicos (Embarcações)
  boatType          String?
  boatLength        String?
  hullMaterial      String?
  onboardEquipment  String? @db.Text

  // Campos específicos (Alimentos)
  productName       String?
  quantity          String?
  packagingType     String?
  expirationDate    DateTime?
  storageConditions String?

  // Campos específicos (Metais Preciosos e Pedras)
  preciousMetalType String?
  purity            String?

  // Campos específicos (Bens Florestais)
  forestGoodsType   String?
  volumeOrQuantity  String?
  species           String?
  dofNumber         String?

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  
  @@index([tenantId])
  @@index([categoryId])
  @@index([subcategoryId])
  @@index([judicialProcessId])
  @@index([sellerId])
}