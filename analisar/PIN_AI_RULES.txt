```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ¤– AI RULES PIN - LEIA ISTO TODA SESSÃƒO                    â•‘
â•‘                                                                                â•‘
â•‘  Status: âœ… ATIVO | VersÃ£o: 1.0 | Ãšltima AtualizaÃ§Ã£o: 11/11/2025            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ 2 REGRAS CRÃTICAS QUE VOCÃŠ DEVE SABER AGORA

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ REGRA 1: MULTI-TENANT SECURITY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  STATUS: âœ… Implementado & Validado (25/25 testes passando)                 â”‚
â”‚  RISCO:  ğŸ”´ CRÃTICO                                                          â”‚
â”‚                                                                               â”‚
â”‚  REQUISITO OBRIGATÃ“RIO:                                                      â”‚
â”‚    âœ… TODAS as queries DEVEM filtrar por tenantId                           â”‚
â”‚    âœ… VALIDAR ownership antes de permitir access                           â”‚
â”‚    âœ… Cross-tenant access = 403 Forbidden obrigatÃ³rio                      â”‚
â”‚                                                                               â”‚
â”‚  EXEMPLO:                                                                    â”‚
â”‚    âŒ ERRADO:  db.lot.findUnique({ where: { id } })                         â”‚
â”‚    âœ… CORRETO: db.lot.findUnique({ where: { id, tenantId } })             â”‚
â”‚                                                                               â”‚
â”‚  DocumentaÃ§Ã£o: AUDITORIA_MULTITENANT_EXECUTADA.md                          â”‚
â”‚                context/AI_PROJECT_RULES.md (RULE 1)                         â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ REGRA 2: LAZY COMPILATION vs PRÃ‰-BUILD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                               â”‚
â”‚  STATUS: âœ… Implementado apÃ³s Session 5                                     â”‚
â”‚  RISCO:  ğŸ”´ CRÃTICO - BLOQUEIA TODOS E2E TESTS                             â”‚
â”‚                                                                               â”‚
â”‚  O PROBLEMA:                                                                 â”‚
â”‚    npm run dev = CompilaÃ§Ã£o LAZY (Just-In-Time)                            â”‚
â”‚    Cada pÃ¡gina: 20-30 segundos para compilar                               â”‚
â”‚    Testes: timeout apÃ³s 2.4 segundos                                        â”‚
â”‚    RESULTADO: âŒ Connection Refused (pÃ¡gina nÃ£o carrega a tempo)            â”‚
â”‚                                                                               â”‚
â”‚  A SOLUÃ‡ÃƒO (obrigatÃ³ria para testes & deploy):                             â”‚
â”‚                                                                               â”‚
â”‚    âœ… OPÃ‡ÃƒO 1: AUTOMÃTICA (RECOMENDADA)                                     â”‚
â”‚       node .vscode/run-e2e-tests.js                                         â”‚
â”‚       â””â”€ Faz tudo: build â†’ server â†’ health-check â†’ tests                   â”‚
â”‚                                                                               â”‚
â”‚    âœ… OPÃ‡ÃƒO 2: MANUAL                                                       â”‚
â”‚       npm run build      # (~60s, prÃ©-compila TUDO)                         â”‚
â”‚       npm start          # (~5s, production mode)                           â”‚
â”‚       npx playwright test # Agora funciona!                                 â”‚
â”‚                                                                               â”‚
â”‚    âŒ OPÃ‡ÃƒO 3 (ERRADO - NÃƒO USE):                                          â”‚
â”‚       npm run dev + npx playwright test                                     â”‚
â”‚       â””â”€ Causa lazy compilation & testes falhando!                         â”‚
â”‚                                                                               â”‚
â”‚  QUANDO USAR CADA MODO:                                                      â”‚
â”‚    â€¢ npm run dev                 = Desenvolvimento LOCAL (hot-reload)        â”‚
â”‚    â€¢ npm run build && npm start  = E2E tests, staging, produÃ§Ã£o            â”‚
â”‚    â€¢ node .vscode/run-e2e-tests.js = CI/CD automation                      â”‚
â”‚                                                                               â”‚
â”‚  PERFORMANCE COMPARISON:                                                     â”‚
â”‚    Dev (lazy)          Prod (pre-build)                                     â”‚
â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                â”‚
â”‚    20-30s/pÃ¡gina       <100ms/pÃ¡gina        âœ… 300x MAIS RÃPIDO             â”‚
â”‚    timeout 2.4s        timeout 30s          âœ… 12x MAIS TEMPO               â”‚
â”‚    6/15 testes âŒ      15/15 testes âœ…      âœ… 100% SUCESSO                 â”‚
â”‚                                                                               â”‚
â”‚  DocumentaÃ§Ã£o: PROBLEMA-E-SOLUCAO-FINAL.md                                 â”‚
â”‚                SOLUCAO-LAZY-COMPILATION.md                                  â”‚
â”‚                context/AI_PROJECT_RULES.md (RULE 2)                         â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š 6 OUTRAS REGRAS IMPORTANTES

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ REGRA 3: FILE HEADERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Todo arquivo .ts/.tsx deve comeÃ§ar com docblock explicando propÃ³sito        â”‚
â”‚ Exemplo:                                                                     â”‚
â”‚   /**                                                                        â”‚
â”‚    * LotService                                                             â”‚
â”‚    * Handles lot-related business logic                                    â”‚
â”‚    * Security: All queries filter by tenantId                             â”‚
â”‚    */                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ REGRA 4: NON-REGRESSION & HUMAN AUTH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Qualquer deleÃ§Ã£o/refactoring = autorizaÃ§Ã£o explÃ­cita do usuÃ¡rio            â”‚
â”‚ 1. Declare intenÃ§Ã£o claramente                                              â”‚
â”‚ 2. ForneÃ§a justificativa                                                    â”‚
â”‚ 3. Solicite confirmaÃ§Ã£o do usuÃ¡rio                                          â”‚
â”‚ 4. SÃ³ proceda apÃ³s aprovaÃ§Ã£o                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ REGRA 5: DESIGN SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Use APENAS semantic tokens (nunca hardcoded colors)                         â”‚
â”‚ âŒ ERRADO:  className="text-white bg-black"                                â”‚
â”‚ âœ… CORRETO: className="text-primary bg-background"                         â”‚
â”‚ Define em: index.css e tailwind.config.ts                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ REGRA 6: TESTING STRATEGY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Unit tests (Jest) + E2E tests (Playwright)                                  â”‚
â”‚ ğŸ”´ IMPORTANTE: PRÃ‰-BUILD OBRIGATÃ“RIO antes de E2E (veja REGRA 2)           â”‚
â”‚ Status: 25/25 unit tests âœ… | 15/15 E2E tests (com pre-build) âœ…            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ REGRA 7: PRISMA INTEGRITY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ TODAS as queries via getDatabaseAdapter()                              â”‚
â”‚ âŒ PROIBIDO: acesso direto ao Prisma client em app logic                   â”‚
â”‚ Schema: prisma/schema.prisma (arquivo Ãºnico)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ REGRA 8: ENVIRONMENT VARIABLES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ NUNCA deletar .env                                                      â”‚
â”‚ âœ… PERMITIDO: estender conteÃºdo existente                                  â”‚
â”‚ âŒ PROIBIDO: remover conteÃºdo existente                                    â”‚
â”‚ Documentar: listar todas as required vars                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CHECKLIST ANTES DE QUALQUER MUDANÃ‡A

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Para Data/Queries:
  [ ] Todas as queries filtram por tenantId?
  [ ] ValidaÃ§Ã£o de ownership presente?
  [ ] Cross-tenant access retorna 403?
  [ ] Sem direct Prisma access?

Para E2E Tests:
  [ ] Usando npm run build && npm start? (NÃƒO dev mode)
  [ ] OU usando node .vscode/run-e2e-tests.js?
  [ ] Build completa antes dos testes?
  [ ] .next/ directory existe e tem arquivos?
  [ ] Testes passam com pre-build?

Para CÃ³digo Novo:
  [ ] Arquivo tem docblock?
  [ ] Usa design system (semantic tokens)?
  [ ] Segue multi-tenant architecture?
  [ ] Tem testes apropriados?
  [ ] Sem hardcoded colors/styles?
  [ ] Docstring em funÃ§Ãµes pÃºblicas?

Para Deletions/Refactoring:
  [ ] Solicitei autorizaÃ§Ã£o explÃ­cita do usuÃ¡rio?
  [ ] Forneci justificativa clara?
  [ ] Aguardei confirmaÃ§Ã£o?
  [ ] Documentei mudanÃ§as?

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– ARQUIVOS PARA LER (EM ORDEM DE PRIORIDADE)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”´ OBRIGATÃ“RIO (PRIMEIRA SESSÃƒO):
  1. AI_RULES_PIN.md ............................ 5 minutos (VOCÃŠ ESTÃ AQUI!)
  2. context/AI_PROJECT_RULES.md ............... 30-40 minutos (COMPLETO)
  3. PROBLEMA-E-SOLUCAO-FINAL.md .............. 15 minutos
  4. AUDITORIA_MULTITENANT_EXECUTADA.md ....... 20 minutos

ğŸ“š DOCUMENTAÃ‡ÃƒO TÃ‰CNICA:
  5. SOLUCAO-LAZY-COMPILATION.md .............. 20 minutos
  6. FASE1-FIXES-IMPLEMENTED.md ............... 15 minutos

ğŸ“– DIRETRIZES DE IA:
  7. context/GEMINI.md ......................... 15 minutos (opcional)
  8. context/instructions.md ................... 20 minutos (referÃªncia)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ LEARNING PATH (RECOMENDADO)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRIMEIRA SESSÃƒO (Total: ~70 minutos):
  1. Ler este arquivo (5 min) â† VOCÃŠ ESTÃ AQUI
  2. Ler context/AI_PROJECT_RULES.md (30 min)
  3. Ler PROBLEMA-E-SOLUCAO-FINAL.md (15 min)
  4. Ler AUDITORIA_MULTITENANT_EXECUTADA.md (20 min)
  â†’ Resultado: Conhecer as 2 regras crÃ­ticas & 6 outras regras

PRÃ“XIMAS SESSÃ•ES:
  1. Revisar este arquivo (2 min)
  2. Consultar context/AI_PROJECT_RULES.md conforme necessÃ¡rio
  3. Usar AI_RULES_CHECKLIST.md antes de implementar
  â†’ Resultado: Seguir todas as 8 regras consistentemente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â“ FAQ RÃPIDO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

P: Qual arquivo ler primeiro?
R: Este arquivo! (AI_RULES_PIN.md) - 5 minutos

P: Qual Ã© o documento oficial com TODAS as regras?
R: context/AI_PROJECT_RULES.md - A FONTE DE VERDADE

P: Por que Lazy Compilation Ã© tÃ£o importante?
R: Porque causa TODOS os E2E tests falharem (9/15 tests), bloqueando CI/CD

P: Por que tenantId Ã© tÃ£o importante?
R: Evita cross-tenant access, a vulnerabilidade de seguranÃ§a mais crÃ­tica

P: Posso usar "npm run dev" para E2E tests?
R: âŒ NÃƒO! Use "npm run build && npm start" ou "node .vscode/run-e2e-tests.js"

P: O que fazer quando tiver dÃºvida?
R: Consulte context/AI_PROJECT_RULES.md (a FONTE DE VERDADE)

P: Preciso ler TUDO na primeira sessÃ£o?
R: SIM! Especialmente RULE 1 (security) e RULE 2 (performance)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š STATUS DAS REGRAS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Regra                        Status    Risco   ValidaÃ§Ã£o
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Multi-tenant Security     âœ…        ğŸ”´      25/25 testes
2. Lazy Compilation Fix      âœ…        ğŸ”´      Scripts ready
3. File Headers             âœ…        ğŸŸ¡      Code review
4. Non-Regression           âœ…        ğŸŸ¡      User auth
5. Design System            âœ…        ğŸŸ¡      Code review
6. Testing Strategy         âœ…        ğŸŸ¡      15/15 testes
7. Prisma Integrity         âœ…        ğŸ”´      Code review
8. Environment              âœ…        ğŸ”´      Validation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ RESUMO FINAL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Estas sÃ£o as REGRAS OBRIGATÃ“RIAS que protegem:
  ğŸ” SeguranÃ§a (multi-tenant isolation)
  âš¡ Performance (lazy compilation fix)
  ğŸ¨ Qualidade de cÃ³digo (design system, headers)
  ğŸ§ª Testes (E2E com pre-build)
  ğŸ’¾ Dados (Prisma integrity)

Elas foram:
  âœ… IMPLEMENTADAS
  âœ… VALIDADAS (com testes & auditorias)
  âœ… DOCUMENTADAS (9 arquivos diferentes)
  âœ… ENFORCED (no code review & CI/CD)

Seu papel:
  âœ… Ler estas regras (PRIMEIRO)
  âœ… Entender as 2 crÃ­ticas (security & performance)
  âœ… Seguir TODAS em cada mudanÃ§a de cÃ³digo
  âœ… Usar AI_RULES_CHECKLIST.md antes de implementar

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”— LINKS RÃPIDOS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ Documentos Principais:
   â€¢ AI_RULES_CHECKLIST.md ............. Checklist visual antes de implementar
   â€¢ context/AI_PROJECT_RULES.md ....... DocumentaÃ§Ã£o completa (FONTE DE VERDADE)
   â€¢ INDICE_REGRAS_AI.md ............... Ãndice com learning path completo

ğŸ“ Para Lazy Compilation:
   â€¢ PROBLEMA-E-SOLUCAO-FINAL.md ...... AnÃ¡lise tÃ©cnica completa
   â€¢ SOLUCAO-LAZY-COMPILATION.md ...... Detalhes de implementaÃ§Ã£o
   â€¢ Scripts: .vscode/run-e2e-tests.js â­ USE ESTE

ğŸ“ Para Multi-Tenant Security:
   â€¢ AUDITORIA_MULTITENANT_EXECUTADA.md
   â€¢ FASE1-FIXES-IMPLEMENTED.md
   â€¢ FASE1-CONCLUSAO.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ PIN THIS IN EVERY NEW CHAT SESSION âœ¨

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Antes de fazer QUALQUER mudanÃ§a:

  1. Leia AI_RULES_PIN.md (este arquivo - 5 min)
  2. Consulte context/AI_PROJECT_RULES.md se nÃ£o tiver certeza
  3. Use AI_RULES_CHECKLIST.md antes de codificar
  4. Siga as 8 regras em TUDO o que fizer

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VersÃ£o: 1.0 | Status: âœ… ATIVO | Data: 11/11/2025 | ResponsÃ¡vel: QA & Security Team

ğŸ¯ REGRAS DOCUMENTADAS, CONSOLIDADAS E PRONTAS PARA SEREM SEGUIDAS EM TODAS AS SESSÃ•ES

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
