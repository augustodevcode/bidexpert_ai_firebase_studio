(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[60],{1484:function(e,t,a){e.exports={lafYellow:"#d3ae48",lwOrange:"#fa6401",lwGray:"#dddddd",container:"_602d3","image-container":"_51a52","fade-out":"_1508d",image:"dcf55","circle-button":"_0ee28","expand-clickable-area":"fe186",next:"_4ea66",prev:"_9f750",arrow:"_48fde","right-arrow":"_838fb","left-arrow":"_7f0a0","gallery-counter":"b27ee",counter:"_15d5d"}},1485:function(e,t,a){e.exports={lafYellow:"#d3ae48",lwOrange:"#fa6401",lwGray:"#dddddd","carousel-sticky-nav-wrapper":"c0e3a","inner-wrapper":"_5d013",cta:"_890cf","nav-button":"_24c4e",message:"_60fc8","like-icon":"b82d7","share-icon":"fc4fd",close:"_807f1","icon-wrap":"_8b2e3","close-icon":"_9a9b7","is-liked":"_389f0"}},1486:function(e,t,a){e.exports={lafYellow:"#d3ae48",lwOrange:"#fa6401",lwGray:"#dddddd",container:"_08b1b","mobile-close-container":"d1b02","close-button":"be256","icon-wrap":"ef8aa","close-icon":"bb06f","carousel-nav":"_981cd","carousel-nav-button":"_2a341","carousel-body":"_87209","map-placeholder":"_37aac"}},908:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return G});var n=a(0),r=a.n(n),o=a(1),i=a(49),l=a.n(i),c=a(3),s=a(52),u=a(1484),d=a.n(u),p=a(4),m=a(213);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=v(this,g(t).call(this,e))).touchStartX=null,a.isMultiTouch=!1,a.arrowNavigation=function(e){var t=e.keyCode||e.which;t==o.h.LEFT_ARROW&&a.prev(),t==o.h.RIGHT_ARROW&&a.next()},a.handleTouchStart=function(e){1===e.touches.length?(a.isMultiTouch=!1,a.touchStartX=e.touches[0].clientX):e.touches.length>1&&(a.isMultiTouch=!0)},a.handleTouchEnd=function(e){if(!a.isMultiTouch&&0===e.touches.length&&1===e.changedTouches.length){var t=e.changedTouches[0].clientX-a.touchStartX;t<-50?a.next():t>50&&a.prev()}},a.getSlides=function(){var e=a.props,n=e.store,o=e.propertyData,i=n.imageDomain,l=o.imageInfo,c={height:0,width:t.getImageWidth(a.props.store.windowWidth,a.props.store.windowHeight)},s=[],u=!0,m=!1,f=void 0;try{for(var h,y=l[Symbol.iterator]();!(u=(h=y.next()).done);u=!0){var b=h.value;s.push(r.a.createElement("div",{id:"image",key:b.documentId},r.a.createElement("div",{style:{backgroundImage:"url(".concat(Object(p.k)(i,b.documentId,c,p.e.constrainWidth,p.h.default),")")},className:d.a.image,role:"img","aria-label":b.label})))}}catch(e){m=!0,f=e}finally{try{u||null==y.return||y.return()}finally{if(m)throw f}}a.setState({gallerySlides:s,counter:1})},a.preLoader=function(){var e=a.state,n=e.gallerySlides,o=e.currentSlide,i=a.props.store.imageDomain,l=0===o,c=o===n.length-1,s=[],u={height:0,width:t.getImageWidth(a.props.store.windowWidth,a.props.store.windowHeight)};[n[c?0:o+1],n[l?n.length-1:o-1]].forEach(function(e){s.push(r.a.createElement("link",{rel:"preload",as:"image",href:"".concat(Object(p.k)(i,e.key,u,p.e.constrainWidth,p.h.default))}))}),a.setState({preLoadSlides:s})},a.next=function(){a.setState({fadeOut:!0});var e=a.state,t=e.gallerySlides,n=e.counter,r=h(t.slice(1)).concat(h(t.slice(0,1))),o=n===t.length?1:n+1;setTimeout(function(){a.setState({gallerySlides:r,counter:o,fadeOut:!1})},300),m.a.mediaEvents.imageGalleryViewed(o,t.length)},a.prev=function(){a.setState({fadeOut:!0});var e=a.state,t=e.gallerySlides,n=e.counter,r=t.length-1,o=h(t.slice(r)).concat(h(t.slice(0,r))),i=1===n?t.length:n-1;setTimeout(function(){a.setState({gallerySlides:o,counter:i,fadeOut:!1})},300),m.a.mediaEvents.imageGalleryViewed(i,t.length)},a.state={gallerySlides:[],counter:1,fadeOut:!1,player:null,preLoadSlides:[],currentSlide:0},a}var a,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,n["Component"]),a=t,(i=[{key:"componentDidMount",value:function(){this.getSlides();var e=this.props.store.carousels.currentCarouselSlideIndex,t=this.props.propertyData.imageInfo;window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd),this.setState({currentSlide:e,counter:e+1}),c.c.yieldToMainThread(function(){m.a.mediaEvents.imageGalleryOpened(),t.length>0&&m.a.mediaEvents.imageGalleryViewed(e+1,t.length)})}},{key:"componentDidUpdate",value:function(e,t){c.c.getBreakpoint(e.store.windowWidth)!==c.c.getBreakpoint(this.props.store.windowWidth)&&this.getSlides(),this.state.gallerySlides.length>1&&t.gallerySlides[0]!==this.state.gallerySlides[0]&&this.preLoader()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchend",this.handleTouchEnd)}},{key:"render",value:function(){var e=this.state,t=e.gallerySlides,a=e.counter,o=e.fadeOut,i=e.preLoadSlides;return r.a.createElement("div",{tabIndex:0,onKeyDown:this.arrowNavigation,role:"button",className:d.a.container},r.a.createElement(n.Fragment,null,r.a.createElement(s.a,null,i.length>0&&i[0],i.length>=2&&i[1])),t.length>1&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:l()(d.a["expand-clickable-area"],d.a.prev),tabIndex:0,role:"button",onClick:this.prev,onKeyDown:this.arrowNavigation},r.a.createElement("div",{className:d.a["circle-button"]},r.a.createElement("div",{className:l()(d.a.arrow,d.a["left-arrow"])}))),r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.next,className:l()(d.a.next,d.a["expand-clickable-area"])},r.a.createElement("div",{className:d.a["circle-button"]},r.a.createElement("div",{className:l()(d.a.arrow,d.a["right-arrow"])})))),r.a.createElement("div",{className:d.a["image-container"]},r.a.createElement("div",{id:"animation-div",className:d.a.image},t[this.state.currentSlide]),!0===o&&r.a.createElement("div",{id:"fade-out-div",className:l()(d.a.image,d.a["fade-out"])})),r.a.createElement("div",{className:d.a["gallery-counter"]},r.a.createElement("div",{className:d.a.counter},a,"/",t.length)))}}])&&b(a.prototype,i),u&&b(a,u),t}();E.getImageWidth=function(e,t){return e>700?1650:Math.max(e,t)};var S=E,k=a(906),_=a(194),N=a(1485),O=a.n(N),C=a(257);var I=function(e){var t,a,n,i=e.store,c=e.onLike,s=e.handler,u=e.propertyData,d=e.isLiked,p=u.marketStatus,m=u.siteListingId,f=i.siteIdentity,h=f.isLW,y=f.isLAF,b=h||y?"Contact":"Message",v=p===o.q.AVAILABLE||p===o.q.UNDER_CONTRACT,g=l()(O.a["like-icon"],(t={},a=O.a["is-liked"],n=d,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t));return r.a.createElement("div",{className:O.a["carousel-sticky-nav-wrapper"]},r.a.createElement("div",{className:O.a["inner-wrapper"]},r.a.createElement("div",null,v&&r.a.createElement(_.a,{onClick:function(){return s.handleBroker().then(function(e){e.loadContactBrokerModal({siteId:i.siteId,leadSource:o.o.PropertyProfile,brokerId:i.brokerDetails.accountId,countyId:u.county.id,listingId:u.listingId,siteListingId:m,externalSourceId:u.externalSourceId,partnerId:u.partnerId,price:u.price,acres:u.acres,isFree:u.isFree,showCheckboxes:!0,partnerPhone:u.partnerPhone,listingLogInfo:C.a.APIPropertyToLogInfo(u),propertyTitle:u.title,trackingPhoneNumber:i.brokerDetails.trackingPhoneNumber})})},className:O.a.message,isPrimary:!0},b)),r.a.createElement("div",{className:O.a.cta},r.a.createElement("button",{className:O.a["nav-button"],onClick:function(){return c()}},r.a.createElement("div",{className:O.a["icon-wrap"]},r.a.createElement("span",{className:g}))),r.a.createElement("button",{className:O.a["nav-button"],onClick:function(){return e.openShareModal()}},r.a.createElement("div",{className:O.a["icon-wrap"]},r.a.createElement("span",{className:O.a["share-icon"]}))),r.a.createElement("div",{tabIndex:0,role:"button",onClick:s.handleCarousel.closeCarousel,className:l()(O.a["nav-button"],O.a.close)},r.a.createElement("div",{className:O.a["icon-wrap"]},r.a.createElement("span",{className:l()(O.a["close-icon"])}))))))},L=a(728),x=a(1486),T=a.n(x),M=a(2);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=j(this,A(t).call(this,e))).loadMap=function(){n.state.mapComponent||Object(M.a)(function(){return a.e(45).then(a.bind(null,1090))}).then(function(e){return n.setState(function(){return{mapComponent:e.default,mapLoaded:!0}})})},n.close=function(e){(e.keyCode||e.which)===o.h.ESCAPE&&n.props.handler.handleCarousel.closeCarousel()},n.state={mapComponent:null,mapLoaded:!1},n}var i,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,n["Component"]),i=t,(c=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.close)}},{key:"componentWillUnmount",value:function(){this.props.handler.handleCarousel.closeCarousel(),document.removeEventListener("keyup",this.close)}},{key:"render",value:function(){var e=this,t=this.state.mapLoaded,a=this.props,o=a.store,i=a.handler,c=a.openShareModal,s=a.onLike,u=a.propertyData,d=a.propertyMediaData,p=a.propertyOverlays,m=a.isLiked,f=o.carousels,h=f.openVideo,y=f.openTour,b=f.openGallery,v=f.isPropertyMap,g=f.isLocalMap,w=this.state.mapComponent,E=i.handleCarousel.openCarousel;return r.a.createElement(n.Fragment,null,r.a.createElement("style",{dangerouslySetInnerHTML:{__html:"body{\n                          position: fixed;\n                          height: 100%;\n                          width: 100%;\n                        }"}}),r.a.createElement("div",{className:T.a.container},r.a.createElement("div",{className:T.a["mobile-close-container"]},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.props.handler.handleCarousel.closeCarousel,className:T.a["close-button"]},r.a.createElement("div",{className:T.a["icon-wrap"]},r.a.createElement("span",{className:l()(T.a["close-icon"])})))),r.a.createElement(I,{onLike:s,store:o,handler:i,openShareModal:c,propertyData:u,isLiked:m}),r.a.createElement("div",{className:T.a["carousel-nav"]},r.a.createElement("div",{tabIndex:0,role:"button",className:T.a["carousel-nav-button"],onClick:function(){return E({isGallery:!0})}},"Gallery"),(d.youtubeVideo||d.vimeoVideo)&&r.a.createElement("div",{tabIndex:0,role:"button",className:T.a["carousel-nav-button"],onClick:function(){return E({isVideo:!0})}},"Video"),null!=d.matterportVirtualTour&&r.a.createElement("div",{tabIndex:0,role:"button",className:T.a["carousel-nav-button"],onClick:function(){return E({isTour:!0})}},"3D Tour"),r.a.createElement("div",{tabIndex:0,role:"button",className:T.a["carousel-nav-button"],onClick:function(){E({isPropertyMap:!0}),e.loadMap()}},"Property Map"),r.a.createElement("div",{tabIndex:0,role:"button",className:T.a["carousel-nav-button"],onClick:function(){E({isLocalMap:!0}),e.loadMap()}},"Local Map")),r.a.createElement("div",{className:T.a["carousel-body"]},b&&r.a.createElement(S,{store:this.props.store,handler:this.props.handler,propertyData:u}),(h||y)&&r.a.createElement(k.a,{store:this.props.store,handler:this.props.handler,propertyMediaData:d,isVideo:h}),r.a.createElement("div",{className:T.a["map-placeholder"],style:{display:v||g?"flex":"none"}},t?r.a.createElement(w,{store:o,handler:i,propertyData:u,propertyOverlays:p,windowWidth:o.windowWidth,isPropertyMap:v,isLocalMap:g}):r.a.createElement(L.a,{message:"Loading Results..."})))))}}])&&P(i.prototype,c),s&&P(i,s),t}()}}]);