# Testing Guide

This document provides instructions on how to run the automated tests for the BidExpert application. The project is configured with two types of tests: End-to-End (E2E) tests using Playwright and Unit/Integration tests using Jest.

## 1. End-to-End (E2E) Tests with Playwright

Playwright tests simulate real user behavior by running tests in a browser. They are located in the `tests/e2e` directory.

### Prerequisites

- **Running Application:** The E2E tests need to run against a live instance of the application.
- **Environment Variables:** Ensure you have a `.env.local` file with the necessary environment variables configured, especially for database connections and any required API keys if you are not using `SAMPLE_DATA`.

### Running E2E Tests

There are two primary ways to run the E2E tests:

**A) Automatic Server Start (Recommended for CI/CD)**

This method uses Playwright's `webServer` feature to automatically start the Next.js development server before running tests.

1.  **Ensure `webServer` is enabled:** In `playwright.config.ts`, make sure the `webServer` block is **not** commented out.
2.  **Run the tests:**
    ```bash
    npm run test:e2e
    ```

**B) Manual Server Start (Recommended for Local Development/Debugging)**

This method is useful when you want to run tests against a server that you've started manually. This is the required method in the current interactive environment due to process execution issues.

1.  **Start the dev server:** In one terminal, run the application:
    ```bash
    npm run dev
    ```
    Note the port it starts on (e.g., `http://localhost:3001`).

2.  **Configure Playwright:** In `playwright.config.ts`:
    -   Comment out the entire `webServer` block.
    -   Make sure the `baseURL` in the `use` block matches the URL of your running server (e.g., `'http://localhost:3001'`).

3.  **Run the tests:** In a second terminal, run the test command:
    ```bash
    npm run test:e2e
    ```

### Other Useful E2E Commands

-   **Run in UI Mode:** Provides an interactive interface for debugging tests.
    ```bash
    npm run test:e2e:ui
    ```

-   **View HTML Report:** After running tests, view a detailed report of the results.
    ```bash
    npm run test:e2e:report
    ```

---

## 2. Unit & Integration Tests with Jest

Jest tests focus on individual functions (units) or components in isolation. They are located in the `tests/unit` directory and have a `.test.ts` or `.test.tsx` extension.

### Prerequisites

- **Dependencies:** The Jest dependencies must be installed. If they are not, run:
  ```bash
  npm install --save-dev jest jest-environment-jsdom @testing-library/react @types/jest ts-jest
  ```

### Running Unit Tests

To run all unit tests, use the following command:

```bash
npm run test:unit
```

You can also run tests in watch mode, which automatically re-runs tests when files are changed:

```bash
npm run test:unit -- --watch
```

---
*This document was generated by an AI assistant.*
