// prisma/models/asset-media.prisma
/**
 * @fileoverview Join table for the many-to-many relationship
 * between Assets and MediaItems, representing an asset's gallery.
 */
import { Asset } from './asset.prisma'
import { MediaItem } from './media-item.prisma'

model AssetMedia {
  assetId     BigInt    @map("asset_id")
  mediaItemId BigInt    @map("media_item_id")
  order       Int       @default(0)

  asset       Asset     @relation("AssetGallery", fields: [assetId], references: [id], onDelete: Cascade)
  mediaItem   MediaItem @relation("AssetGallery", fields: [mediaItemId], references: [id], onDelete: Cascade)

  @@id([assetId, mediaItemId])
  @@map("assets_media_gallery")
}
