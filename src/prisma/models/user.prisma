// Modelo para Usuários. Armazena informações de perfil, autenticação e status de habilitação.
// É um modelo global, não associado a um tenant específico, e suas relações são gerenciadas sem tenantId.
model User {
  id                      String                @id @default(cuid())
  email                   String                @unique
  password                String?               @db.Text
  fullName                String?               @db.Text
  habilitationStatus      UserHabilitationStatus @default(PENDING_DOCUMENTS)
  accountType             AccountType           @default(PHYSICAL)
  avatarUrl               String?               @db.Text
  dataAiHint              String?               @db.Text
  badges                  Json?
  createdAt               DateTime              @default(now())
  updatedAt               DateTime              @updatedAt
  cpf                     String?               @db.Text
  rgNumber                String?               @db.Text
  rgIssuer                String?               @db.Text
  rgIssueDate             DateTime?
  rgState                 String?               @db.Text
  dateOfBirth             DateTime?
  cellPhone               String?               @db.Text
  homePhone               String?               @db.Text
  gender                  String?               @db.Text
  profession              String?               @db.Text
  nationality             String?               @db.Text
  maritalStatus           String?               @db.Text
  propertyRegime          String?               @db.Text
  spouseName              String?               @db.Text
  spouseCpf               String?               @db.Text
  zipCode                 String?               @db.Text
  street                  String?               @db.Text
  number                  String?               @db.Text
  complement              String?               @db.Text
  neighborhood            String?               @db.Text
  city                    String?               @db.Text
  state                   String?               @db.Text
  optInMarketing          Boolean?              @default(false)
  razaoSocial             String?               @db.Text
  cnpj                    String?               @db.Text
  inscricaoEstadual       String?               @db.Text
  website                 String?               @db.Text
  responsibleName         String?               @db.Text
  responsibleCpf          String?               @db.Text

  // Relations
  notifications           Notification[]
  mediaItems              MediaItem[]
  documents               UserDocument[]
  bids                    Bid[]
  maxBids                 UserLotMaxBid[]
  sellerProfile           Seller?               @relation("UserSeller")
  auctioneerProfile       Auctioneer?           @relation("UserAuctioneer")
  roles                   UsersOnRoles[]
  tenants                 UsersOnTenants[]
  wins                    UserWin[]
  lotsWon                 Lot[]                 @relation("LotWinner")
  auctionHabilitations    AuctionHabilitation[]
  lotQuestions            LotQuestion[]
  reviews                 Review[]
}
