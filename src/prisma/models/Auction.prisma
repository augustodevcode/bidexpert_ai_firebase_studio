
model Auction {
  id                        BigInt                 @id @default(autoincrement())
  publicId                  BigInt                 @unique @default(cuid())
  title                     BigInt
  slug                      BigInt                 @unique
  description               BigInt?                @db.Text
  status                    AuctionStatus          @default(RASCUNHO)
  auctionDate               DateTime               @default(now())
  endDate                   DateTime?
  visits                    Int                    @default(0)
  isFeaturedOnMarketplace   Boolean                @default(false)
  marketplaceAnnouncementTitle BigInt?
  initialOffer              Decimal?               @db.Decimal(12, 2)
  achievedRevenue           Decimal?               @db.Decimal(12, 2)
  estimatedRevenue          Decimal?               @db.Decimal(12, 2)
  auctionType               AuctionType            @default(EXTRAJUDICIAL)
  auctionMethod             AuctionMethod          @default(STANDARD)
  participation             AuctionParticipation   @default(ONLINE)
  onlineUrl                 BigInt?
  address                   BigInt?
  cityId                    BigInt?
  city                      City?                  @relation(fields: [cityId], references: [id])
  stateId                   BigInt?
  state                     State?                 @relation(fields: [stateId], references: [id])
  zipCode                   BigInt?
  latitude                  Decimal?               @db.Decimal(9, 6)
  longitude                 Decimal?               @db.Decimal(9, 6)
  documentsUrl              BigInt?
  evaluationReportUrl       BigInt?
  auctionCertificateUrl     BigInt?
  dataAiHint                BigInt?

  // Timestamps
  createdAt                 DateTime               @default(now())
  updatedAt                 DateTime               @updatedAt

  // Relationships
  tenantId                  BigInt
  tenant                    Tenant                 @relation(fields: [tenantId], references: [id])
  auctioneerId              BigInt?
  auctioneer                Auctioneer?            @relation(fields: [auctioneerId], references: [id])
  sellerId                  BigInt?
  seller                    Seller?                @relation(fields: [sellerId], references: [id])
  categoryId                BigInt?
  category                  LotCategory?           @relation(fields: [categoryId], references: [id])
  lots                      Lot[]
  bids                      Bid[]
  reviews                   Review[]
  questions                 LotQuestion[]
  habilitations             AuctionHabilitation[]
  stages                    AuctionStage[]
  judicialProcessId         BigInt?
  judicialProcess           JudicialProcess?       @relation(fields: [judicialProcessId], references: [id])
  courtId                   BigInt?
  court                     Court?                 @relation(fields: [courtId], references: [id])
  imageMediaId              BigInt?
  
  // Settings
  softCloseEnabled          Boolean                @default(false)
  softCloseMinutes          Int?                   @default(2)
  automaticBiddingEnabled   Boolean                @default(false)
  allowInstallmentBids      Boolean                @default(true)
  silentBiddingEnabled      Boolean                @default(false)
  allowMultipleBidsPerUser  Boolean                @default(true)
  decrementAmount           Decimal?               @db.Decimal(12, 2)
  decrementIntervalSeconds  Int?
  floorPrice                Decimal?               @db.Decimal(12, 2)
}
