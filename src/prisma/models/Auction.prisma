
model Auction {
  id                        String                 @id @default(cuid())
  publicId                  String                 @unique @default(cuid())
  title                     String
  slug                      String                 @unique
  description               String?                @db.Text
  status                    AuctionStatus          @default(RASCUNHO)
  auctionDate               DateTime               @default(now())
  endDate                   DateTime?
  visits                    Int                    @default(0)
  isFeaturedOnMarketplace   Boolean                @default(false)
  marketplaceAnnouncementTitle String?
  initialOffer              Decimal?               @db.Decimal(12, 2)
  achievedRevenue           Decimal?               @db.Decimal(12, 2)
  estimatedRevenue          Decimal?               @db.Decimal(12, 2)
  auctionType               AuctionType            @default(EXTRAJUDICIAL)
  auctionMethod             AuctionMethod          @default(STANDARD)
  participation             AuctionParticipation   @default(ONLINE)
  onlineUrl                 String?
  address                   String?
  cityId                    String?
  city                      City?                  @relation(fields: [cityId], references: [id])
  stateId                   String?
  state                     State?                 @relation(fields: [stateId], references: [id])
  zipCode                   String?
  latitude                  Decimal?               @db.Decimal(9, 6)
  longitude                 Decimal?               @db.Decimal(9, 6)
  documentsUrl              String?
  evaluationReportUrl       String?
  auctionCertificateUrl     String?
  dataAiHint                String?

  // Timestamps
  createdAt                 DateTime               @default(now())
  updatedAt                 DateTime               @updatedAt

  // Relationships
  tenantId                  String
  tenant                    Tenant                 @relation(fields: [tenantId], references: [id])
  auctioneerId              String?
  auctioneer                Auctioneer?            @relation(fields: [auctioneerId], references: [id])
  sellerId                  String?
  seller                    Seller?                @relation(fields: [sellerId], references: [id])
  categoryId                String?
  category                  LotCategory?           @relation(fields: [categoryId], references: [id])
  lots                      Lot[]
  bids                      Bid[]
  reviews                   Review[]
  questions                 LotQuestion[]
  habilitations             AuctionHabilitation[]
  stages                    AuctionStage[]
  judicialProcessId         String?
  judicialProcess           JudicialProcess?       @relation(fields: [judicialProcessId], references: [id])
  courtId                   String?
  court                     Court?                 @relation(fields: [courtId], references: [id])
  imageMediaId              String?
  
  // Settings
  softCloseEnabled          Boolean                @default(false)
  softCloseMinutes          Int?                   @default(2)
  automaticBiddingEnabled   Boolean                @default(false)
  allowInstallmentBids      Boolean                @default(true)
  silentBiddingEnabled      Boolean                @default(false)
  allowMultipleBidsPerUser  Boolean                @default(true)
  decrementAmount           Decimal?               @db.Decimal(12, 2)
  decrementIntervalSeconds  Int?
  floorPrice                Decimal?               @db.Decimal(12, 2)
}
