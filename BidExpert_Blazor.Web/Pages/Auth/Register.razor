@page "/auth/register"
@layout EmptyLayout
@inject NavigationManager NavigationManager
@using System.ComponentModel.DataAnnotations

<PageTitle>Criar Conta - BidExpert</PageTitle>

<div class="max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg mx-auto mt-20">
    <div>
        <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Crie sua conta</h2>
    </div>
    <EditForm Model="registerModel" OnValidSubmit="HandleRegister">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="space-y-4">
            <div>
                <InputText @bind-Value="registerModel.FullName" required class="w-full px-3 py-2 border" placeholder="Nome Completo" />
            </div>
            <div>
                <InputText @bind-Value="registerModel.Email" type="email" required class="w-full px-3 py-2 border" placeholder="Email" />
            </div>
            <div>
                <InputText @bind-Value="registerModel.Password" type="password" required class="w-full px-3 py-2 border" placeholder="Senha" />
            </div>
            <div>
                <InputText @bind-Value="registerModel.ConfirmPassword" type="password" required class="w-full px-3 py-2 border" placeholder="Confirme a senha" />
            </div>
        </div>
        <div>
            <button type="submit" class="w-full flex justify-center py-2 px-4 border mt-6 text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700">
                Criar Conta
            </button>
        </div>
    </EditForm>
</div>

@code {
    private RegisterModel registerModel = new RegisterModel();
    private void HandleRegister() { NavigationManager.NavigateTo("/auth/login"); }
    public class RegisterModel {
        [Required] public string FullName { get; set; } = "";
        [Required][EmailAddress] public string Email { get; set; } = "";
        [Required][MinLength(6)] public string Password { get; set; } = "";
        [Required][Compare(nameof(Password))] public string ConfirmPassword { get; set; } = "";
    }
}
