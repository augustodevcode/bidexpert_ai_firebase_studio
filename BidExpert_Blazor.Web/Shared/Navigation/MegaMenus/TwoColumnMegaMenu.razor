@using BidExpert_Blazor.ServiceDefaults.Dtos
@using Microsoft.AspNetCore.Components
@inject NavigationManager NavigationManager

<div class="@($"grid gap-0 p-0 {ContainerWidthClasses} {GridClasses}")">
    <div class="bg-white border-r p-3">
        @if (!string.IsNullOrWhiteSpace(SidebarTitle))
        {
            <h4 class="px-3 py-2 text-md font-semibold text-gray-800 mb-1">@SidebarTitle</h4>
        }
        <ul class="space-y-0.5">
            @foreach (var item in SidebarItems)
            {
                <li>
                    <NavLink href="@item.Href" class="block p-2.5 hover:bg-orange-50">
                        <div class="text-sm font-medium">@item.Label</div>
                        @if (!string.IsNullOrWhiteSpace(item.Description))
                        {
                            <p class="text-xs text-gray-500">@item.Description</p>
                        }
                    </NavLink>
                </li>
            }
        </ul>
    </div>
    @if (MainContent != null)
    {
        <div class="p-6 bg-gray-50/50">
            <h3 class="text-xl font-bold text-orange-600 mb-2">@MainContent.Title</h3>
            <p class="text-sm text-gray-600 mb-4">@MainContent.Description</p>
            <button @onclick='() => NavigationManager.NavigateTo(MainContent.ButtonLink)'
                    class="w-full bg-orange-500 text-white text-sm font-semibold py-2 px-4 rounded-md hover:bg-orange-600">
                @MainContent.ButtonText
            </button>
        </div>
    }
</div>

@code {
    public class MegaMenuLinkItemModel { public string Href { get; set; } = ""; public string Label { get; set; } = ""; public string? Description { get; set; } }
    public class MainContentModel { public string Title { get; set; } = ""; public string Description { get; set; } = ""; public string ButtonLink { get; set; } = ""; public string ButtonText { get; set; } = ""; }

    [Parameter] public string? SidebarTitle { get; set; }
    [Parameter] public List<MegaMenuLinkItemModel> SidebarItems { get; set; } = new();
    [Parameter] public MainContentModel? MainContent { get; set; }
    [Parameter] public string ContainerWidthClasses { get; set; } = "md:w-[650px]";
    [Parameter] public string GridClasses { get; set; } = "grid-cols-[250px_1fr]";
}
